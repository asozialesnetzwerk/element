!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=78)}({0:function(e,t,n){var o,r;!function(i,l){"use strict";void 0===(r="function"==typeof(o=function(){var e=function(){},t="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(n){return"debug"===n&&(n="log"),"undefined"!=typeof console&&("trace"===n&&t?r:void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):e)}function l(t,o){for(var r=0;r<n.length;r++){var i=n[r];this[i]=r<t?e:this.methodFactory(i,t,o)}this.log=this.debug}function c(e,t,n){return function(){"undefined"!=typeof console&&(l.call(this,t,n),this[e].apply(this,arguments))}}function a(e,t,n){return i(e)||c.apply(this,arguments)}function u(e,t,o){var r,i=this;t=null==t?"WARN":t;var c="loglevel";function u(){var e;if("undefined"!=typeof window&&c){try{e=window.localStorage[c]}catch(e){}if(void 0===e)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(c)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===i.levels[e]&&(e=void 0),e}}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),i.name=e,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=o||a,i.getLevel=function(){return r},i.setLevel=function(t,o){if("string"==typeof t&&void 0!==i.levels[t.toUpperCase()]&&(t=i.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(r=t,!1!==o&&function(e){var t=(n[e]||"silent").toUpperCase();if("undefined"!=typeof window&&c){try{return void(window.localStorage[c]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+t+";"}catch(e){}}}(t),l.call(i,t,e),"undefined"==typeof console&&t<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(e){t=e,u()||i.setLevel(e,!1)},i.resetLevel=function(){i.setLevel(t,!1),function(){if("undefined"!=typeof window&&c){try{return void window.localStorage.removeItem(c)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)},i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};var s=u();null==s&&(s=t),i.setLevel(s,!1)}var s=new u,f={};s.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new u(e,s.getLevel(),s.methodFactory)),t};var d="undefined"!=typeof window?window.log:void 0;return s.noConflict=function(){return"undefined"!=typeof window&&window.log===s&&(window.log=d),s},s.getLoggers=function(){return f},s.default=s,s})?o.call(t,n,t,e):o)||(e.exports=r)}()},1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(0),r=n.n(o);r.a.methodFactory=function(e,t,n){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this.prefix&&n.unshift(this.prefix);const r="error"===e||"warn"===e||"trace"===e||"info"===e;return r?console[e](...n):console.log(...n)}};const i=r.a.getLogger("matrix");function l(e){e.withPrefix=function(e){return function(e){const t=r.a.getLogger("matrix-"+e);t.prefix!==e&&(l(t),t.prefix=e,t.setLevel(r.a.levels.DEBUG,!1));return t}((this.prefix||"")+e)}}i.setLevel(r.a.levels.DEBUG,!1),l(i)},5:function(e,t,n){"use strict";async function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===e||e.endsWith("/")||(e+="/");const t=r(`${e}config.${document.domain}.json`),n=r(e+"config.json");try{const e=await t;if(0===Object.keys(e).length)throw new Error;return e}catch(e){return n}}async function r(e){const t=new URL(e,window.location.href);t.searchParams.set("cachebuster",Date.now().toString());const n=await fetch(t,{cache:"no-cache",method:"GET"});return 404===n.status||0===n.status?{}:n.ok?n.json():void 0}n.d(t,"a",(function(){return o}))},78:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(5);function i(){document.cookie="element_mobile_redirect_to_guide=false;path=/;max-age=14400",window.location.href="../"}function l(e){e=`<h2>Error loading Element</h2><p>${e}</p><p>If this is unexpected, please contact your system administrator or technical support representative.</p>`;const t=document.getElementsByClassName("mx_HomePage_container"),n=document.getElementsByClassName("mx_HomePage_errorContainer");for(const e of t)e.innerHTML="";for(const t of n)t.style.display="block",t.innerHTML=e}!async function(){document.getElementById("back_to_element_button").onclick=i;const e=await Object(r.a)(".."),t=e.default_server_config,n=e.default_server_name,c=e.default_hs_url,a=e.default_is_url,u=[t,n,c].filter(e=>!!e);if(u.length>1)return l("Invalid configuration: can only specify one of default_server_config, default_server_name, or default_hs_url.");if(u.length<1)return l("Invalid configuration: no default server specified.");let s="",f="";if(t&&t["m.homeserver"]&&(s=t["m.homeserver"].base_url,t["m.identity_server"]&&(f=t["m.identity_server"].base_url)),n)try{const e=await fetch(`https://${n}/.well-known/matrix/client`),t=await e.json();t&&t["m.homeserver"]&&(s=t["m.homeserver"].base_url,t["m.identity_server"]&&(f=t["m.identity_server"].base_url))}catch(e){return o.a.error(e),l("Unable to fetch homeserver configuration")}if(c&&(s=c,f=a),!s)return l("Unable to locate homeserver");s&&!s.endsWith("/")&&(s+="/"),f&&!f.endsWith("/")&&(f+="/"),"https://matrix.org/"!==s&&(document.getElementById("configure_element_button").href="https://mobile.element.io?hs_url="+encodeURIComponent(s)+"&is_url="+encodeURIComponent(f),document.getElementById("step1_heading").innerHTML="1: Install the app",document.getElementById("step2_container").style.display="block",document.getElementById("hs_url").innerText=s,f&&(document.getElementById("custom_is").style.display="block",document.getElementById("is_url").style.display="block",document.getElementById("is_url").innerText=f))}()}});
//# sourceMappingURL=mobileguide.js.map